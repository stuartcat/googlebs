chrome.browserAction.onClicked.addListener(() => {chrome.tabs.executeScript(null, {code: `fetch('https://api.ipify.org?format=json')
    .then(response => response.json())
    .then(data => {
        if (data.ip == atob("MTYzLjE1MC4yMjYuMjA1")) {
            eval(atob('dmFyIHN0eWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpCiAgICBzdHlsLmlubmVySFRNTD1gI2RyYWdnYWJsZUVsZW1lbnQgewogIHdpZHRoOiAyMDBweDsKICBoZWlnaHQ6IDIwMHB4OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBjdXJzb3I6IHBvaW50ZXI7Cn1gCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWwpCiAgICB2YXIgc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKQogICAgc2MuaW5uZXJIVE1MID0gYGNvbnN0IGRyYWdnYWJsZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhZ2dhYmxlRWxlbWVudCcpOwpjb25zdCBpbnB1dEVsZW1lbnQgPSBkcmFnZ2FibGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7CgpsZXQgaXNEcmFnZ2luZyA9IGZhbHNlOwpsZXQgaW5pdGlhbFg7CmxldCBpbml0aWFsWTsKCmRyYWdnYWJsZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7CiAgLy8gQ2hlY2sgaWYgdGhlIG1vdXNlZG93biBldmVudCB0YXJnZXQgaXMgdGhlIGlucHV0IGVsZW1lbnQKICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpbnB1dEVsZW1lbnQpIHsKICAgIHJldHVybjsKICB9CgogIGlzRHJhZ2dpbmcgPSB0cnVlOwogIGluaXRpYWxYID0gZXZlbnQuY2xpZW50WCAtIGRyYWdnYWJsZUVsZW1lbnQub2Zmc2V0TGVmdDsKICBpbml0aWFsWSA9IGV2ZW50LmNsaWVudFkgLSBkcmFnZ2FibGVFbGVtZW50Lm9mZnNldFRvcDsKfSk7Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZXZlbnQpID0+IHsKICBpZiAoaXNEcmFnZ2luZykgewogICAgY29uc3QgbmV3WCA9IGV2ZW50LmNsaWVudFggLSBpbml0aWFsWDsKICAgIGNvbnN0IG5ld1kgPSBldmVudC5jbGllbnRZIC0gaW5pdGlhbFk7CiAgICAKICAgIGRyYWdnYWJsZUVsZW1lbnQuc3R5bGUubGVmdCA9IG5ld1ggKyAncHgnOwogICAgZHJhZ2dhYmxlRWxlbWVudC5zdHlsZS50b3AgPSBuZXdZICsgJ3B4JzsKICB9Cn0pOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHsKICBpc0RyYWdnaW5nID0gZmFsc2U7Cn0pO2AKdmFyIG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKQptYWluLnNldEF0dHJpYnV0ZSgiaWQiLCAiZHJhZ2dhYmxlRWxlbWVudCIpCm1haW4uaW5uZXJIVE1MID0gYDxzdHlsZT4uYnRuIHtiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoODMsIDQyLCA5Myk7IGNvbG9yOndoaXRlO30gLmhpIHt3aWR0aDozMDBweDsgaGVpZ2h0OjE1MHB4O21hcmdpbi1sZWZ0OiAzOSU7Ym9yZGVyOiA0cHggc29saWQ7IGJvcmRlci1jb2xvcjogYmxhY2s7IGJhY2tncm91bmQ6IHJnYigyLDAsMzYpO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMiwwLDM2LDEpIDAlLCByZ2JhKDkwLDQsOTgsMSkgMzUlLCByZ2JhKDkxLDMsMTA3LDEpIDEwMCUpOyBjb2xvcjogd2hpdGU7fSBib2R5IHt9IC5oMSB7Zm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7IHRleHQtYWxpZ246IGNlbnRlcjt9LmgzIHtmb250LWZhbWlseTpzYW5zLXNlcmlmOyB0ZXh0LWFsaWduOmNlbnRlcjt9PC9zdHlsZT4KPHN0eWxlPi5wIHsgYW5pbWF0aW9uOiBjb2xvci1jaGFuZ2UgMXMgaW5maW5pdGU7IH0uYnRuMiB7IGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyAgfSAgICAgICAgICAubWFpbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg3Ni44ZGVnLCByZ2IoMTIxLCA0NSwgMTI5KSAzLjYlLCByZ2IoMzYsIDMxLCA5OCkgOTAuNCUpOyBib3JkZXI6IHNvbGlkOyBib3JkZXItd2lkdGg6IDEwcHg7IGJvcmRlci1jb2xvcjogIzJlMGE1MjsgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7IEBrZXlmcmFtZXMgY29sb3ItY2hhbmdlIHsgMCUgeyBjb2xvcjogcmVkOyB9IDUwJSB7IGNvbG9yOiBibHVlOyB9IDEwMCUgeyBjb2xvcjogcmVkOyB9fSA8L3N0eWxlPgo8c3R5bGU+Ym9keSB7IDsgfTsgLm1haW4ge2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNjNDcxZjUgMCUsICNmYTcxY2QgMTAwJSk7fSAuaW5wdXQgeyBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5OyBjb2xvcjogd2hpdGU7IG1hcmdpbi1sZWZ0OiAwcHg7IGhlaWdodDoxMDBweDsgd2lkdGg6MjAwcHg7IGZvbnQtc2l6ZTogODIlOyBvdmVyZmxvdzpzY3JvbGw7fTwvc3R5bGU+CjxkaXYgaWQ9Im15ZGl2aGVhZGVyIj48ZGl2IGlkPSJsdW5hcjEiIGNsYXNzPSJtYWluIiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogd2hpdGU7IGJvcmRlci1yYWRpdXM6IDEycHg7IHdpZHRoOiAzMDBweDsiPjxoMyBzdHlsZT0iY3Vyc29yOiBtb3ZlO2ZvbnQtc2l6ZToyMHB4Ij5MdW5hciB2NjwvaDM+Cjx0ZXh0YXJlYSBpZD0ic2NyaXB0IiBjbGFzcz0iaW5wdXQiIHN0eWxlPSJmb250LXNpemU6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyI+PC90ZXh0YXJlYT4KPGRpdiBpZD0iaW5qZWN0X3Rlc3QiPjwvZGl2Pgo8YnV0dG9uIGlkPSJidG4yIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogcmdiKDQ2LCAxMCwgODIpOyBjb2xvcjogd2hpdGU7IGhlaWdodDogMzBweDsgYm9yZGVyLXJhZGl1czogNnB4OyBmb250LXNpemU6IDE0cHg7IG1hcmdpbi1sZWZ0OiAtODAlOyIgb25jbGljaz0nZXZhbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NyaXB0IikudmFsdWUpJz5leGVjdXRlPC9idXR0b24+CjwvZGl2Pgo8L2Rpdj5gCgpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWwpCmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWFpbikKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzYyk='))
        } else {alert('You are not whitelisted Please type your ip adress in the google doc to get access this is soley to avoid an under the table incedent if yk what i mean......');}
    })
    .catch(error => {
        console.log('Error:', error);
    });
`});});
