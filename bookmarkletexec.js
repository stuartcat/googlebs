chrome.browserAction.onClicked.addListener(() => {chrome.tabs.executeScript(null, {code: `fetch('https://api.ipify.org?format=json')
    .then(response => response.json())
    .then(data => {
        if (data.ip == atob("MTYzLjE1MC4yMjYuMjA1")) {
            eval(atob('ICAgIHZhciBzdHlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKQogICAgc3R5bC5pbm5lckhUTUw9YCNkcmFnZ2FibGVFbGVtZW50IHsKICB3aWR0aDogMjAwcHg7CiAgaGVpZ2h0OiAyMDBweDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgY3Vyc29yOiBwb2ludGVyOwp9YAogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdHlsKQogICAgdmFyIHNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykKICAgIHNjLmlubmVySFRNTCA9IGBjb25zdCBkcmFnZ2FibGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYWdnYWJsZUVsZW1lbnQnKTsKY29uc3QgaW5wdXRFbGVtZW50ID0gZHJhZ2dhYmxlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpOwoKbGV0IGlzRHJhZ2dpbmcgPSBmYWxzZTsKbGV0IGluaXRpYWxYOwpsZXQgaW5pdGlhbFk7CgpkcmFnZ2FibGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldmVudCkgPT4gewogIC8vIENoZWNrIGlmIHRoZSBtb3VzZWRvd24gZXZlbnQgdGFyZ2V0IGlzIHRoZSBpbnB1dCBlbGVtZW50CiAgaWYgKGV2ZW50LnRhcmdldCA9PT0gaW5wdXRFbGVtZW50KSB7CiAgICByZXR1cm47CiAgfQoKICBpc0RyYWdnaW5nID0gdHJ1ZTsKICBpbml0aWFsWCA9IGV2ZW50LmNsaWVudFggLSBkcmFnZ2FibGVFbGVtZW50Lm9mZnNldExlZnQ7CiAgaW5pdGlhbFkgPSBldmVudC5jbGllbnRZIC0gZHJhZ2dhYmxlRWxlbWVudC5vZmZzZXRUb3A7Cn0pOwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB7CiAgaWYgKGlzRHJhZ2dpbmcpIHsKICAgIGNvbnN0IG5ld1ggPSBldmVudC5jbGllbnRYIC0gaW5pdGlhbFg7CiAgICBjb25zdCBuZXdZID0gZXZlbnQuY2xpZW50WSAtIGluaXRpYWxZOwogICAgCiAgICBkcmFnZ2FibGVFbGVtZW50LnN0eWxlLmxlZnQgPSBuZXdYICsgJ3B4JzsKICAgIGRyYWdnYWJsZUVsZW1lbnQuc3R5bGUudG9wID0gbmV3WSArICdweCc7CiAgfQp9KTsKCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7CiAgaXNEcmFnZ2luZyA9IGZhbHNlOwp9KTsKZnVuY3Rpb24gcnVuKCkgewpldmFsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JpcHQnKS52YWx1ZSkKfWAKdmFyIG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKQptYWluLnNldEF0dHJpYnV0ZSgiaWQiLCAiZHJhZ2dhYmxlRWxlbWVudCIpCm1haW4uaW5uZXJIVE1MID0gYDxzdHlsZT4uYnRuIHtiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoODMsIDQyLCA5Myk7IGNvbG9yOndoaXRlO30gLmhpIHt3aWR0aDozMDBweDsgaGVpZ2h0OjE1MHB4O21hcmdpbi1sZWZ0OiAzOSU7Ym9yZGVyOiA0cHggc29saWQ7IGJvcmRlci1jb2xvcjogYmxhY2s7IGJhY2tncm91bmQ6IHJnYigyLDAsMzYpO2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMiwwLDM2LDEpIDAlLCByZ2JhKDkwLDQsOTgsMSkgMzUlLCByZ2JhKDkxLDMsMTA3LDEpIDEwMCUpOyBjb2xvcjogd2hpdGU7fSBib2R5IHt9IC5oMSB7Zm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7IHRleHQtYWxpZ246IGNlbnRlcjt9LmgzIHtmb250LWZhbWlseTpzYW5zLXNlcmlmOyB0ZXh0LWFsaWduOmNlbnRlcjt9PC9zdHlsZT4KPHN0eWxlPi5wIHsgYW5pbWF0aW9uOiBjb2xvci1jaGFuZ2UgMXMgaW5maW5pdGU7IH0uYnRuMiB7IGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyAgfSAgICAgICAgICAubWFpbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg3Ni44ZGVnLCByZ2IoMTIxLCA0NSwgMTI5KSAzLjYlLCByZ2IoMzYsIDMxLCA5OCkgOTAuNCUpOyBib3JkZXI6IHNvbGlkOyBib3JkZXItd2lkdGg6IDEwcHg7IGJvcmRlci1jb2xvcjogIzJlMGE1MjsgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7IEBrZXlmcmFtZXMgY29sb3ItY2hhbmdlIHsgMCUgeyBjb2xvcjogcmVkOyB9IDUwJSB7IGNvbG9yOiBibHVlOyB9IDEwMCUgeyBjb2xvcjogcmVkOyB9fSA8L3N0eWxlPgo8c3R5bGU+Ym9keSB7IDsgfTsgLm1haW4ge2JhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNjNDcxZjUgMCUsICNmYTcxY2QgMTAwJSk7fSAuaW5wdXQgeyBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5OyBjb2xvcjogd2hpdGU7IG1hcmdpbi1sZWZ0OiAwcHg7IGhlaWdodDoxMDBweDsgd2lkdGg6MjAwcHg7IGZvbnQtc2l6ZTogODIlOyBvdmVyZmxvdzpzY3JvbGw7fTwvc3R5bGU+CjxkaXYgaWQ9Im15ZGl2aGVhZGVyIj48ZGl2IGlkPSJsdW5hcjEiIGNsYXNzPSJtYWluIiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogd2hpdGU7IGJvcmRlci1yYWRpdXM6IDEycHg7IHdpZHRoOiAzMDBweDsiPjxoMyBzdHlsZT0iY3Vyc29yOiBtb3ZlO2ZvbnQtc2l6ZToyMHB4Ij5MdW5hciB2NjwvaDM+Cjx0ZXh0YXJlYSBpZD0ic2NyaXB0IiBjbGFzcz0iaW5wdXQiIHN0eWxlPSJmb250LXNpemU6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyI+PC90ZXh0YXJlYT4KPGRpdiBpZD0iaW5qZWN0X3Rlc3QiPjwvZGl2Pgo8YnV0dG9uIGlkPSJidG4yIiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogcmdiKDQ2LCAxMCwgODIpOyBjb2xvcjogd2hpdGU7IGhlaWdodDogMzBweDsgYm9yZGVyLXJhZGl1czogNnB4OyBmb250LXNpemU6IDE0cHg7IG1hcmdpbi1sZWZ0OiAtODAlOyIgb25jbGljaz0ncnVuKCknPmV4ZWN1dGU8L2J1dHRvbj4KPC9kaXY+CjwvZGl2PmAKZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtYWluKQpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWwpCm1haW4uYXBwZW5kQ2hpbGQoc2Mp'))
        } else {alert('You are not whitelisted Please type your ip adress in the google doc to get access this is soley to avoid an under the table incedent if yk what i mean......');}
    })
    .catch(error => {
        console.log('Error:', error);
    });
`});});
